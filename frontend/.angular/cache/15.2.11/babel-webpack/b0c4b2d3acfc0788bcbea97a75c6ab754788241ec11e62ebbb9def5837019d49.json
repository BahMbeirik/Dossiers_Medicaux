{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet HomeComponent = class HomeComponent {\n  constructor(patientService, router) {\n    this.patientService = patientService;\n    this.router = router;\n    this.patients = [];\n  }\n  ngOnInit() {\n    const token = localStorage.getItem('access_token');\n    if (!token) {\n      this.router.navigate(['/login']);\n      return;\n    }\n    // Optionnel : vérifier si le jeton est expiré\n    const tokenDecoded = this.decodeToken(token);\n    if (tokenDecoded.exp < Date.now() / 1000) {\n      this.router.navigate(['/login']);\n    }\n  }\n  decodeToken(token) {\n    const payload = token.split('.')[1];\n    return JSON.parse(atob(payload));\n  }\n  navigateToDetails(id) {\n    this.router.navigate(['/details', id]);\n  }\n};\nHomeComponent = __decorate([Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})], HomeComponent);\nexport { HomeComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAS1C,IAAMC,aAAa,GAAnB,MAAMA,aAAa;EAGxBC,YAAoBC,cAA8B,EAAUC,MAAc;IAAtD,mBAAc,GAAdD,cAAc;IAA0B,WAAM,GAANC,MAAM;IAFlE,aAAQ,GAAc,EAAE;EAEqD;EAE7EC,QAAQ;IACN,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;IAClD,IAAI,CAACF,KAAK,EAAE;MACR,IAAI,CAACF,MAAM,CAACK,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;MAChC;;IAGJ;IACA,MAAMC,YAAY,GAAG,IAAI,CAACC,WAAW,CAACL,KAAK,CAAC;IAC5C,IAAII,YAAY,CAACE,GAAG,GAAGC,IAAI,CAACC,GAAG,EAAE,GAAG,IAAI,EAAE;MACtC,IAAI,CAACV,MAAM,CAACK,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;;EAEtC;EAEAE,WAAW,CAACL,KAAa;IACrB,MAAMS,OAAO,GAAGT,KAAK,CAACU,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACnC,OAAOC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACJ,OAAO,CAAC,CAAC;EACpC;EAIAK,iBAAiB,CAACC,EAAU;IAC1B,IAAI,CAACjB,MAAM,CAACK,QAAQ,CAAC,CAAC,UAAU,EAAEY,EAAE,CAAC,CAAC;EACxC;CACD;AA7BYpB,aAAa,eALzBD,SAAS,CAAC;EACTsB,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,sBAAsB;CACnC,CAAC,GACWvB,aAAa,CA6BzB;SA7BYA,aAAa","names":["Component","HomeComponent","constructor","patientService","router","ngOnInit","token","localStorage","getItem","navigate","tokenDecoded","decodeToken","exp","Date","now","payload","split","JSON","parse","atob","navigateToDetails","id","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\HP\\Desktop\\Dossiers Medicaux\\frontend\\src\\app\\home\\home.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { PatientService, Patient } from './../services/patient.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit {\n  patients: Patient[] = [];\n\n  constructor(private patientService: PatientService, private router: Router) {}\n\n  ngOnInit(): void {\n    const token = localStorage.getItem('access_token');\n    if (!token) {\n        this.router.navigate(['/login']);\n        return;\n    }\n\n    // Optionnel : vérifier si le jeton est expiré\n    const tokenDecoded = this.decodeToken(token);\n    if (tokenDecoded.exp < Date.now() / 1000) {\n        this.router.navigate(['/login']);\n    }\n  }\n\n  decodeToken(token: string): any {\n      const payload = token.split('.')[1];\n      return JSON.parse(atob(payload));\n  }\n\n\n\n  navigateToDetails(id: number): void {\n    this.router.navigate(['/details', id]);\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}