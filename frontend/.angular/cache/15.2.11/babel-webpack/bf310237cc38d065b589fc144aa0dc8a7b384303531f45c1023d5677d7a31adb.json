{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet HomeComponent = class HomeComponent {\n  constructor(patientService, router) {\n    this.patientService = patientService;\n    this.router = router;\n    this.patients = [];\n  }\n  ngOnInit() {\n    const token = localStorage.getItem('access_token');\n    if (!token) {\n      this.router.navigate(['/login']);\n      return;\n    }\n    // this.patientService.getPatients().subscribe(patients => {\n    //   this.patients = patients;\n    // });\n    this.fetchPatients();\n  }\n  fetchPatients() {\n    this.patientService.getPatients().subscribe({\n      next: data => this.patients = data,\n      error: err => {\n        if (err.status === 401) {\n          this.router.navigate(['/login']);\n        }\n      }\n    });\n  }\n  navigateToDetails(id) {\n    this.router.navigate(['/details', id]);\n  }\n};\nHomeComponent = __decorate([Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})], HomeComponent);\nexport { HomeComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAS1C,IAAMC,aAAa,GAAnB,MAAMA,aAAa;EAGxBC,YAAoBC,cAA8B,EAAUC,MAAc;IAAtD,mBAAc,GAAdD,cAAc;IAA0B,WAAM,GAANC,MAAM;IAFlE,aAAQ,GAAc,EAAE;EAEqD;EAE7EC,QAAQ;IACN,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;IAClD,IAAI,CAACF,KAAK,EAAE;MACR,IAAI,CAACF,MAAM,CAACK,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;MAChC;;IAGJ;IACA;IACA;IACA,IAAI,CAACC,aAAa,EAAE;EACtB;EACAA,aAAa;IACX,IAAI,CAACP,cAAc,CAACQ,WAAW,EAAE,CAACC,SAAS,CAAC;MACxCC,IAAI,EAAGC,IAAI,IAAK,IAAI,CAACC,QAAQ,GAAGD,IAAI;MACpCE,KAAK,EAAGC,GAAG,IAAI;QACX,IAAIA,GAAG,CAACC,MAAM,KAAK,GAAG,EAAE;UACpB,IAAI,CAACd,MAAM,CAACK,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;;MAExC;KACH,CAAC;EACN;EAIEU,iBAAiB,CAACC,EAAU;IAC1B,IAAI,CAAChB,MAAM,CAACK,QAAQ,CAAC,CAAC,UAAU,EAAEW,EAAE,CAAC,CAAC;EACxC;CACD;AAjCYnB,aAAa,eALzBD,SAAS,CAAC;EACTqB,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,sBAAsB;CACnC,CAAC,GACWtB,aAAa,CAiCzB;SAjCYA,aAAa","names":["Component","HomeComponent","constructor","patientService","router","ngOnInit","token","localStorage","getItem","navigate","fetchPatients","getPatients","subscribe","next","data","patients","error","err","status","navigateToDetails","id","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\HP\\Desktop\\Dossiers Medicaux\\frontend\\src\\app\\home\\home.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { PatientService, Patient } from './../services/patient.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit {\n  patients: Patient[] = [];\n\n  constructor(private patientService: PatientService, private router: Router) {}\n\n  ngOnInit(): void {\n    const token = localStorage.getItem('access_token');\n    if (!token) {\n        this.router.navigate(['/login']);\n        return;\n    }\n\n    // this.patientService.getPatients().subscribe(patients => {\n    //   this.patients = patients;\n    // });\n    this.fetchPatients();\n  }\n  fetchPatients(): void {\n    this.patientService.getPatients().subscribe({\n        next: (data) => this.patients = data,\n        error: (err) => {\n            if (err.status === 401) {\n                this.router.navigate(['/login']);\n            }\n        }\n    });\n}\n\n\n\n  navigateToDetails(id: number): void {\n    this.router.navigate(['/details', id]);\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}